{% extends 'base.html' %}

{% block content %}
<h1 class="mb-3"> All Visits </h1>

<div>
    <h6> Search / Filter Visit </h6>
    <form class="form-inline mr-auto" method="get" action="">
        <input class="form-control mr-sm-2" type="text" name="visit" placeholder="Search" aria-label="Search">
        <button class="btn btn-primary btn-rounded btn-sm my-0" type="submit">Search</button>
    </form>
</div>

{% if search_result %}
<h6 class="pt-5"> All results </h6>

<div>
    <table class="table table-hover">
        <thead>
            <tr class="bg-primary text-white">
                <th scope="col">Case Id</th>
                <th scope="col">Patient Name</th>
                <th scope="col">Virus Name</th>
                <th scope="col">Date Confirmed</th>
                <th scope="col">Local or Imported</th>
                <th scope="col">Visiwdqwddts in Transmission Period</th>
                <td class="bg-white border-0"></td>
            </tr>
        </thead>
        {% for case in search_result  %}
        <tbody class="border-0">
            <tr>
                <td scope="row">{{case.id}}</td>
                <td scope="row">{{case.name}}</td>
                <td scope="row">{{case.virus}}</td>
                <td scope="row">{{case.date}}</td>
                <td scope="row">{{case.category}}</td>
                <td scope="row">
                    <a class="btn btn-primary" href="/cases/{{case.id}}/view_visits"> View Visits </a>
                </td>

                <td scope="row" class="bg-white border-0">
                    <a class="btn btn-primary" style="width: 94px;" href="/cases/{{case.id}}"> Edit entry </a>
                </td>
            </tr>
        </tbody>
        {% endfor %}
    </table>
</div>

{% else %}
<h6 class="pt-5"> No results satisfying your query. </h6>
{% endif %}

{% endblock %}